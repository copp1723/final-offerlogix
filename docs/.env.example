# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=your_db_name

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password

# SMTP Configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_smtp_user
SMTP_PASSWORD=your_smtp_password
SMTP_FROM_ADDRESS=no-reply@example.com

# Application Settings
APP_ENV=development
APP_DEBUG=true
APP_PORT=3000

# Security Settings
JWT_SECRET=your_jwt_secret
SESSION_SECRET=your_session_secret

# Third-Party API Keys
GOOGLE_API_KEY=your_google_api_key
SENTRY_DSN=your_sentry_dsn

# Feature Flags
FEATURE_X_ENABLED=false
FEATURE_Y_ENABLED=true

# ================================
# OfferLogix â€“ Reliability Pass ENV
# Only variables added/used by the recent hardening edits
# ================================

# --- OpenRouter / LLM ---
# Required for LLM replies
OPENROUTER_API_KEY=
# Timeouts / retries
OPENROUTER_TIMEOUT_MS=20000
OPENROUTER_MAX_RETRIES=3
# Input/memory safety caps
AGENT_MAX_USER_MSG=4000
AGENT_MAX_MEMORY_DOCS=3
AGENT_MAX_MEMORY_SNIPPET=300
AGENT_MAX_MEMORY_BLOCK=1200

# --- Supermemory (RAG / history recall) ---
SUPERMEMORY_API_KEY=
SUPERMEMORY_BASE_URL=https://api.supermemory.ai
# Network & resilience
SUPERMEMORY_TIMEOUT_MS=8000
SUPERMEMORY_MAX_RETRIES=3
SUPERMEMORY_RETRY_BASE_MS=200
SUPERMEMORY_CIRCUIT_FAILS=4
SUPERMEMORY_CIRCUIT_COOLDOWN_MS=30000
SUPERMEMORY_MAX_CONTENT_BYTES=200000
# Toggle retrieval usage (anything but 'off' enables it)
SUPERMEMORY_RAG=on

# --- Mailgun (outbound email) ---
MAILGUN_API_KEY=
MAILGUN_DOMAIN=mg.example.com
MAILGUN_FROM_EMAIL=swarm@mg.example.com
# Timeouts / retries / concurrency
MAILGUN_TIMEOUT_MS=10000
MAILGUN_MAX_RETRIES=3
MAILGUN_RETRY_BASE_MS=200
MAILGUN_BULK_CONCURRENCY=5
# Payload safety cap (shared with execution processor)
MAX_EMAIL_HTML_BYTES=500000

# --- Execution Processor (batch sending guardrails) ---
EXECUTION_BATCH_CONCURRENCY=10
# Reuses MAILGUN_MAX_RETRIES / MAILGUN_RETRY_BASE_MS / MAX_EMAIL_HTML_BYTES above

# --- IMAP Ingestion (inbound leads) ---
IMAP_CONNECT_TIMEOUT_MS=10000
IMAP_AUTH_TIMEOUT_MS=5000
IMAP_IDLE_FALLBACK_MS=60000
IMAP_MAX_MSG_SIZE_BYTES=5000000
IMAP_POLL_INTERVAL_MS=60000
# Optional folder moves (create these in the mailbox to enable)
IMAP_MOVE_PROCESSED=Processed
IMAP_MOVE_FAILED=Failed
# Optional: lock allowed sender domains (comma-separated) or '*' to allow all
LEAD_INGEST_ALLOWED_SENDERS=*

# --- Lead Parser (sanitization caps) ---
LEAD_PARSE_MAX_CONTENT=200000
LEAD_PARSE_MAX_FIELD=200

# --- Campaign Scheduler (no double-fires) ---
SCHEDULER_INTERVAL_MS=60000
CAMPAIGN_CLAIM_LEASE_MS=120000
CAMPAIGN_FAILURE_BACKOFF_MS=300000